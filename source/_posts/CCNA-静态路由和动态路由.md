---
title: CCNA-静态路由和动态路由
tags: [CCNA,笔记]
date: 2014-05-19 22:52:49
keywords: [静态路由,动态路由]
---

学习过程中的笔记，比较零散

<!--more-->

#### 静态路由

##### 路由功能

* 负责在不同网段之间进行数据转发(三层路由)

* 通过路由表进行三层数据转发(基于路由表)

* 维护路由表信息

* 在冗余路径中进行最优路径判断

* 在三层转发时应用特定的转发策略

##### 静态路由 static routes

* 管理员手动输入

* 占用路由器资源小

* 可以严格控制路由转发

* 支持广泛

* 出现网络拓扑变动的时候无法自动更新

* 当网络很大的时候管理复杂

##### 静态路由配置

在全局配置模式下

Router(config)# Ip route network [mask]

(目标网络   子网掩码  下一跳出口)

跟下一跳出接口在一定条件下有备份作用,冗余.

缺省路由   0.0.0.0 0.0.0.0  

##### 负载均衡

当我们拥有到达目标网络的多个路径的时候,我们可以配置中间的路由器在这些路径上进行负载均衡

底层网络的负载均衡:

1、基于数据包

2、基于数据流

#### 动态路由

路由协议用在不同路由器之间,用来判断到远程网络的路径并维护路由器的路由表

当路径决定之后,路由器会将被路由协议转发到目的网络

动态路由协议是运行在路由器上的一个程序,相同的动态路由协议通过在不同的路由器之间交换此动态路由协议规定的数据包来交换各自的路由信息,从而达到学习路由,维护路由表,发现拓扑变动的目的.

#### 动态路由协议分类

##### 按应用范围分 IGP & EGP(现在使用BGPv4)

IGP（内部网关协议）应用于普通企业(在一个自治系统(as)之内路由)

EGP（外部网关协议）路由整个互联网(在多个自治系统（as）之间路由)

自治系统autonomous system是处在同一个管理范围的网络集合（管理范围比网络范围大）

as有个编号 0~65535    64512~65535是私有的，不能出现在公网中

##### 按算法分

距离矢量型 distance vector（贝尔曼 福特）

高级距离矢量型  advanced distance vector（DUAL cisoc私有）

链路状态型link-state（SPF 最短路径优先）

#### Classful roting  有类别路由协议

有类别路由选择协议在路由更新中不携带子网掩码

在一个网络中只能使用相同的子网掩码(不支持不连续的子网)

在主类网的边界会进行自动汇总

常见有类别路由协议

1 ripv1

2 IGRP

##### 有类别路由协议学习路由的规则

有类别路由协议在更新时不携带子网掩码,在学习路由过程中:

1 首先判断接口接受的路由与接受接口配置的IP地址是否处于同一个主类网.

2如果处于同一个主类网,则使用接受接口配置的子网掩码做为接受路由的子网掩码

3如果接收路由与接收接口配置的IP地址不在同一个主类网中,则使用接收路由自身所属的主类网子网掩码作为该路由子网掩码(在主类网边界出现自动汇总)

#### Classlessrouting 无类别路由协议

在路由更新中携带子网掩码(CIDR 无类别域间路由 classless Internet domain route)

支持VLSM,在同一个网络中可以拥有不同的子网掩码

在网络中支持手工汇总

常见的无类别路由选择协议

RIPv2  EIGRP  OSPF ISIS  BGPv4

RIPv2和EIGRP默认会在主类网边界进行自动汇总,需要手工关闭

##### 最佳路由判定标准

RIP  根据跳数（hop count）（经过几个路由器）

OSPF 根据带宽（cost）线路的速度

带宽 bandwidth

延时 delay

可靠性  reliable

负载 load

度量值不能变

![geocoderSearch](/image/ccna/Classlessrouting_ad.png)

